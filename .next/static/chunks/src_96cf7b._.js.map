{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/components/ui/breadcrumb.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef(\n  ({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />\n)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props} />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props} />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props} />\n  );\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props} />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}>\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}>\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAIA;AAHA;AACA;AAAA;;;;;;AAIA,MAAM,2BAAa,8JAAM,UAAU,MACjC,CAAC,EAAE,GAAG,OAAO,EAAE,oBAAQ,6LAAC;QAAI,KAAK;QAAK,cAAW;QAAc,GAAG,KAAK;;;;;;;AAEzE,WAAW,WAAW,GAAG;AAEzB,MAAM,+BAAiB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAChE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4FACA;QAED,GAAG,KAAK;;;;;;;AAEb,eAAe,WAAW,GAAG;AAE7B,MAAM,+BAAiB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAChE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,oCAAoC;QACjD,GAAG,KAAK;;;;;;;AAEb,eAAe,WAAW,GAAG;AAE7B,MAAM,+BAAiB,8JAAM,UAAU,OAAC,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACzE,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf;;AACA,eAAe,WAAW,GAAG;AAE7B,MAAM,+BAAiB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAChE,6LAAC;QACC,KAAK;QACL,MAAK;QACL,iBAAc;QACd,gBAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAEb,eAAe,WAAW,GAAG;AAE7B,MAAM,sBAAsB,CAAC,EAC3B,QAAQ,EACR,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,MAAK;QACL,eAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;kBACR,0BAAY,6LAAC,yNAAA,CAAA,eAAY;;;;;;;;;;OAVxB;AAaN,oBAAoB,WAAW,GAAG;AAElC,MAAM,qBAAqB,CAAC,EAC1B,SAAS,EACT,GAAG,OACJ,iBACC,6LAAC;QACC,MAAK;QACL,eAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4CAA4C;QACzD,GAAG,KAAK;;0BACT,6LAAC,mNAAA,CAAA,iBAAc;gBAAC,WAAU;;;;;;0BAC1B,6LAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;OAVxB;AAaN,mBAAmB,WAAW,GAAG"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,8JAAM,UAAU,MAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4DAA4D;QACzE,GAAG,KAAK;;;;;;;AAEb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAEb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3D,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sDAAsD;QACnE,GAAG,KAAK;;;;;;;AAEb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACjE,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAEb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,8JAAM,UAAU,QAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAEb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/components/ui/badge.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  ...props\n}) {\n  return (<div className={cn(badgeVariants({ variant }), className)} {...props} />);\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OACJ;IACC,qBAAQ,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC9E;KANS"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/components/ui/accordion.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}>\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}>\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,YAAY,yKAAmB,IAAI;AAEzC,MAAM,8BAAgB,8JAAM,UAAU,MAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC/D,6LAAC,yKAAmB,IAAI;QAAC,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEpF,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC5E,6LAAC,yKAAmB,MAAM;QAAC,WAAU;kBACnC,cAAA,6LAAC,yKAAmB,OAAO;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gIACA;YAED,GAAG,KAAK;;gBACR;8BACD,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,yKAAmB,OAAO,CAAC,WAAW;AAErE,MAAM,iCAAmB,8JAAM,UAAU,OAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC5E,6LAAC,yKAAmB,OAAO;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBACT,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,yKAAmB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/components/ui/skeleton.jsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}) {\n  return (<div className={cn(\"animate-pulse rounded-md bg-muted\", className)} {...props} />);\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAAa,GAAG,KAAK;;;;;;AACvF;KALS"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/services/api.js"],"sourcesContent":["// API service for XGen application\nconst API_BASE_URL = \"http://127.0.0.1:5001\";\n\n// Helper to add format=json query parameter\nconst jsonUrl = (url) => {\n  return url.includes(\"?\") ? `${url}&format=json` : `${url}?format=json`;\n};\n\n/**\n * Teacher API - Document Management\n */\nexport const teacherAPI = {\n  // Document operations\n  async getDocuments() {\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/documents/`), {\n      headers: {\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to fetch documents\");\n    }\n\n    return await response.json();\n  },\n\n  async getDocument(documentId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/documents/${documentId}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to fetch document ${documentId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async uploadDocument(formData) {\n    // The formData already contains the document file and metadata\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/documents/upload`), {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        // Don't set Content-Type for FormData - browser sets it with boundary\n      },\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to upload document\");\n    }\n\n    return await response.json();\n  },\n\n  async processDocument(documentId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/documents/${documentId}/process`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to process document ${documentId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async deleteDocument(documentId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/documents/${documentId}/delete`),\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to delete document ${documentId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Chapter operations\n  async getChapter(documentId, chapterId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/documents/${documentId}/chapter/${chapterId}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to fetch chapter ${chapterId}`\n      );\n    }\n\n    return await response.json();\n  },\n};\n\n/**\n * Student API - Chat Functionality\n */\nexport const studentAPI = {\n  // Document list for chat\n  async getChatDocuments() {\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/chat/documents`), {\n      headers: {\n        Accept: \"application/json\",\n      },\n      credentials: \"include\", // Important for session cookies\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to fetch chat documents\");\n    }\n\n    return await response.json();\n  },\n\n  async getChatSessions() {\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/chat/sessions`), {\n      headers: {\n        Accept: \"application/json\",\n      },\n      credentials: \"include\", // Important for session cookies\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to fetch chat sessions\");\n    }\n\n    return await response.json();\n  },\n\n  async getDocumentForChat(documentId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/chat/start/${documentId}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to get document ${documentId} for chat`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async startChat(documentId, sessionName) {\n    const formData = new FormData();\n    formData.append(\"session_name\", sessionName);\n\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/chat/start/${documentId}`),\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          // Don't set Content-Type for FormData\n        },\n        body: formData,\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to start chat for document ${documentId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async getChatSession(sessionId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/chat/session/${sessionId}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to get chat session ${sessionId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async deleteSession(sessionId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/chat/session/${sessionId}/delete`),\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n        },\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to delete session ${sessionId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Chat messages\n  async getChatMessages(sessionId) {\n    const response = await fetch(\n      `${API_BASE_URL}/chat/session/${sessionId}/messages`,\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to fetch messages for session ${sessionId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  async askQuestion(sessionId, question, options = {}) {\n    const payload = {\n      question,\n      ...options, // Additional options like retrieval_strategy, top_k, etc.\n    };\n\n    const response = await fetch(\n      `${API_BASE_URL}/chat/session/${sessionId}/ask`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify(payload),\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to send question\");\n    }\n\n    return await response.json();\n  },\n\n  async provideFeedback(sessionId, messageId, feedbackData) {\n    const payload = {\n      message_id: messageId,\n      ...feedbackData,\n    };\n\n    const response = await fetch(\n      `${API_BASE_URL}/chat/session/${sessionId}/feedback`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify(payload),\n        credentials: \"include\", // Important for session cookies\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to submit feedback\");\n    }\n\n    return await response.json();\n  },\n};\n\n/**\n * Course Generator API - Syllabus Processing and Course Generation\n */\nexport const courseGeneratorAPI = {\n  // Get all generated courses\n  async getCourses() {\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/courses`), {\n      headers: {\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to fetch courses\");\n    }\n\n    return await response.json();\n  },\n\n  // Upload a syllabus file\n  async uploadSyllabus(file, metadata = {}) {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    // Add any additional metadata\n    Object.entries(metadata).forEach(([key, value]) => {\n      formData.append(key, value);\n    });\n\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/upload-syllabus`), {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n      },\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to upload syllabus\");\n    }\n\n    return await response.json();\n  },\n\n  // Generate course materials from a syllabus\n  async generateCourse(fileId, options = {}) {\n    const payload = {\n      file_id: fileId,\n      ...options,\n    };\n\n    const response = await fetch(jsonUrl(`${API_BASE_URL}/generate-course`), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || \"Failed to generate course\");\n    }\n\n    return await response.json();\n  },\n\n  // Get course generation status\n  async getCourseStatus(courseId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/courses/${courseId}/status`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to get status for course ${courseId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Get course details\n  async getCourseDetails(courseId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/courses/${courseId}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error || `Failed to get details for course ${courseId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Get a specific file from a course\n  async getCourseFile(courseId, filePath) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/courses/${courseId}/files/${filePath}`),\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error ||\n          `Failed to get file ${filePath} from course ${courseId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Get PowerPoint slides content\n  async getCourseSlides(courseId, filePath) {\n    const response = await fetch(\n      `${API_BASE_URL}/courses/${courseId}/files/${filePath}?format=slides`,\n      {\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(\n        errorData.error ||\n          `Failed to get slides for ${filePath} from course ${courseId}`\n      );\n    }\n\n    return await response.json();\n  },\n\n  // Download all course materials as a zip file\n  async downloadCourse(courseId) {\n    window.location.href = `${API_BASE_URL}/courses/${courseId}/download`;\n    return true;\n  },\n\n  // Download a specific file\n  downloadFile(courseId, filePath) {\n    window.open(\n      `${API_BASE_URL}/courses/${courseId}/files/${filePath}?format=download`,\n      \"_blank\"\n    );\n    return true;\n  },\n\n  // Delete a course\n  async deleteCourse(courseId) {\n    const response = await fetch(\n      jsonUrl(`${API_BASE_URL}/courses/${courseId}`),\n      {\n        method: \"DELETE\",\n        headers: {\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || `Failed to delete course ${courseId}`);\n    }\n\n    return await response.json();\n  },\n};\n\nexport default {\n  teacher: teacherAPI,\n  student: studentAPI,\n  courseGenerator: courseGeneratorAPI,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 811, "column": 0}, "map": {"version":3,"sources":["file:///Users/nourbenammar/Desktop/XGEN_AI/src/app/%28dashboard%29/teacher/documents/%5Bid%5D/chapters/%5BchapterId%5D/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport {\n  ArrowLeft,\n  Book,\n  FileText,\n  Puzzle,\n  AlertCircle,\n} from \"lucide-react\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { teacherAPI } from \"@/services/api\";\n\nexport default function ChapterViewPage() {\n  const params = useParams();\n  const router = useRouter();\n  const documentId = params.id;\n  const chapterId = params.chapterId;\n\n  const [document, setDocument] = useState(null);\n  const [chapter, setChapter] = useState(null);\n  const [chunks, setChunks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [openAccordions, setOpenAccordions] = useState([]);\n\n  useEffect(() => {\n    const fetchChapterDetails = async () => {\n      try {\n        setLoading(true);\n        const data = await teacherAPI.getChapter(documentId, chapterId);\n        setDocument(data.document || null);\n        setChapter(data.chapter || null);\n        setChunks(data.chunks || []);\n        setError(null);\n      } catch (err) {\n        console.error(\"Failed to fetch chapter details:\", err);\n        setError(\"Failed to load chapter details. Please try again later.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (documentId && chapterId) {\n      fetchChapterDetails();\n    }\n  }, [documentId, chapterId]);\n\n  const handleAccordionChange = (value) => {\n    const MAX_OPEN = 5;\n    setOpenAccordions((prev) => {\n      if (prev.includes(value)) {\n        return prev.filter((v) => v !== value);\n      } else {\n        const newOpenList = [...prev, value];\n        if (newOpenList.length > MAX_OPEN) {\n          return newOpenList.slice(1);\n        }\n        return newOpenList;\n      }\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-6\">\n          <Skeleton className=\"h-6 w-80 mb-4\" />\n          <Skeleton className=\"h-10 w-1/2 mb-2\" />\n          <Skeleton className=\"h-5 w-64\" />\n        </div>\n\n        <Card className=\"border-slate-200\">\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <Skeleton className=\"h-6 w-32\" />\n            <Skeleton className=\"h-6 w-20\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {[1, 2, 3, 4].map((i) => (\n                <Skeleton key={i} className=\"h-28 w-full rounded-md\" />\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <Breadcrumb>\n          <BreadcrumbList>\n            <BreadcrumbItem>\n              <BreadcrumbLink href=\"/teacher/documents\">\n                Documents\n              </BreadcrumbLink>\n            </BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>\n              <BreadcrumbLink href={`/teacher/documents/${documentId}`}>\n                {document?.title || \"Document\"}\n              </BreadcrumbLink>\n            </BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>\n              <BreadcrumbLink>{chapter?.title || \"Chapter\"}</BreadcrumbLink>\n            </BreadcrumbItem>\n          </BreadcrumbList>\n        </Breadcrumb>\n\n        {error && (\n          <div className=\"mt-4 mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start\">\n            <AlertCircle className=\"h-5 w-5 mr-2 mt-0.5 flex-shrink-0\" />\n            <span>{error}</span>\n          </div>\n        )}\n\n        <div className=\"mt-4\">\n          <h1 className=\"text-3xl font-bold flex items-center text-slate-800\">\n            <Book className=\"mr-3 h-8 w-8 text-red-500\" />\n            {chapter?.title || \"Chapter Details\"}\n          </h1>\n          {chapter && (\n            <p className=\"text-slate-500 mt-2\">\n              Pages {chapter.start_page} - {chapter.end_page} | Document:{\" \"}\n              {document?.title || \"Document\"}\n            </p>\n          )}\n        </div>\n      </div>\n\n      <Card className=\"border-slate-200\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-xl flex items-center\">\n            <Puzzle className=\"mr-2 h-5 w-5 text-slate-400\" />\n            Text Chunks\n          </CardTitle>\n          <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700\">\n            {chunks?.length || 0} chunks\n          </Badge>\n        </CardHeader>\n        <CardContent>\n          {chunks && chunks.length > 0 ? (\n            <Accordion\n              type=\"multiple\"\n              value={openAccordions}\n              onValueChange={(value) => setOpenAccordions(value)}\n              className=\"space-y-2\"\n            >\n              {chunks.map((chunk) => (\n                <AccordionItem\n                  key={chunk.id}\n                  value={`chunk-${chunk.id}`}\n                  className=\"border border-slate-200 rounded-md overflow-hidden\"\n                >\n                  <AccordionTrigger\n                    onClick={() => handleAccordionChange(`chunk-${chunk.id}`)}\n                    className=\"px-4 py-3 hover:bg-slate-50 hover:no-underline\"\n                  >\n                    <div className=\"flex w-full justify-between items-center text-left\">\n                      <span className=\"font-medium text-slate-700\">\n                        Chunk #{chunk.sequence}\n                      </span>\n                      <span className=\"text-sm text-slate-500\">\n                        Page {chunk.page_number}\n                      </span>\n                    </div>\n                  </AccordionTrigger>\n                  <AccordionContent className=\"pt-0 px-0\">\n                    <div className=\"bg-slate-50 p-4 rounded-b-md border-t border-slate-200\">\n                      <div className=\"bg-white p-4 rounded-md border border-slate-200 mb-3\">\n                        <pre className=\"whitespace-pre-wrap font-mono text-sm text-slate-700\">\n                          {chunk.text}\n                        </pre>\n                      </div>\n                      <div className=\"flex justify-between items-center text-sm\">\n                        <div>\n                          <span className=\"text-slate-600\">\n                            Embedding Status:{\" \"}\n                          </span>\n                          {chunk.embedding ? (\n                            <span className=\"text-green-600 font-medium\">\n                              Generated\n                            </span>\n                          ) : (\n                            <span className=\"text-amber-600 font-medium\">\n                              Not Generated\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </AccordionContent>\n                </AccordionItem>\n              ))}\n            </Accordion>\n          ) : (\n            <div className=\"text-center py-12\">\n              <Puzzle className=\"h-16 w-16 mx-auto text-slate-300 mb-4\" />\n              <h3 className=\"text-xl font-medium text-slate-700 mb-2\">\n                No Chunks Found\n              </h3>\n              <p className=\"text-slate-500 mb-6\">\n                This chapter has no text chunks extracted yet\n              </p>\n\n              {document && !document.processed && (\n                <Button\n                  className=\"bg-emerald-500 hover:bg-emerald-600\"\n                  onClick={() =>\n                    router.push(`/teacher/documents/${documentId}`)\n                  }\n                >\n                  <FileText className=\"mr-2 h-4 w-4\" /> Return to Document\n                </Button>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <div className=\"mt-8\">\n        <Button\n          variant=\"outline\"\n          className=\"text-slate-700\"\n          onClick={() => router.push(`/teacher/documents/${documentId}`)}\n        >\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to Document\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1416, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}